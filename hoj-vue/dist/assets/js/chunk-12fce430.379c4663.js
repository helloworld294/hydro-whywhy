(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12fce430"],{"028c":function(e,t,i){"use strict";var o=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.$t("m.Security_Confirm"),visible:e.visible,width:"400px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.visible=t}}},[t("div",{staticClass:"security-confirm-content"},[t("div",{staticClass:"warning-icon"},[t("i",{staticClass:"el-icon-warning",staticStyle:{color:"#E6A23C","font-size":"48px"}})]),t("div",{staticClass:"warning-text"},[t("h3",[e._v(e._s(e.$t("m.Security_Operation_Warning")))]),t("p",[e._v(e._s(e.operationDescription))])]),t("div",{staticClass:"password-input"},[t("el-input",{attrs:{type:"password",placeholder:e.$t("m.Enter_Security_Password"),"show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleConfirm.apply(null,arguments)}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)]),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleCancel}},[e._v(e._s(e.$t("m.Cancel")))]),t("el-button",{attrs:{type:"danger",loading:e.loading,disabled:!e.confirmPassword},on:{click:e.handleConfirm}},[e._v(" "+e._s(e.$t("m.Confirm"))+" ")])],1)])},s=[],r=i("3228"),a={name:"SecurityConfirm",props:{visible:{type:Boolean,default:!1},operationDescription:{type:String,default:""},operationType:{type:String,default:""},operationData:{type:Object,default:()=>({})}},data(){return{confirmPassword:"",loading:!1,SECURITY_PASSWORD:"fdtfdt"}},methods:{async handleConfirm(){if(this.confirmPassword){if(this.confirmPassword!==this.SECURITY_PASSWORD)return this.$message.error(this.$i18n.t("m.Incorrect_Security_Password")),void(this.confirmPassword="");this.loading=!0;try{const e=await this.getMacAddress();await this.logSecurityOperation(e),this.$emit("confirm",{operationType:this.operationType,operationData:this.operationData,macAddress:e}),this.handleCancel(),this.$message.success(this.$i18n.t("m.Security_Operation_Confirmed"))}catch(e){console.error("Security operation failed:",e),this.$message.error(this.$i18n.t("m.Security_Operation_Failed"))}finally{this.loading=!1}}else this.$message.error(this.$i18n.t("m.Please_Enter_Password"))},handleCancel(){this.confirmPassword="",this.$emit("cancel")},async getMacAddress(){try{const e=await fetch("/api/get-mac-address");if(e.ok){const t=await e.json();return t.macAddress||"unknown"}}catch(i){console.warn("Failed to get MAC address:",i)}navigator.userAgent;const e=Date.now(),t=Math.random().toString(36).substring(2);return`client_${e}_${t}`},async logSecurityOperation(e){try{const t={operationType:this.operationType,operationData:this.operationData,macAddress:e,userAgent:navigator.userAgent,timestamp:(new Date).toISOString(),userId:this.$store.getters.userInfo.uid,username:this.$store.getters.userInfo.username};await r["a"].logSecurityOperation(t)}catch(t){console.error("Failed to log security operation:",t)}}},watch:{visible(e){e&&(this.confirmPassword="")}}},n=a,l=(i("62c5"),i("2877")),c=Object(l["a"])(n,o,s,!1,null,"6061a289",null);t["a"]=c.exports},1562:function(e,t,i){},"22a2":function(e,t,i){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"text-align":"center"}},[void 0!=e.contest.type?t("div",{staticStyle:{"margin-bottom":"10px"}},[t("span",{staticClass:"tips"},[e._v(e._s(0==e.contest.type?e.$t("m.ACM_Contest_Add_From_Public_Problem_Tips"):e.$t("m.OI_Contest_Add_From_Public_Problem_Tips")))])]):e._e(),t("vxe-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:e.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":e.filterByKeyword},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterByKeyword.apply(null,arguments)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),t("vxe-table",{attrs:{data:e.problems,loading:e.loading,"auto-resize":"",stripe:"",align:"center"}},[t("vxe-table-column",{attrs:{title:"ID","min-width":"100",field:"problemId"}}),t("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Title"),field:"title"}}),t("vxe-table-column",{attrs:{title:e.$t("m.Option"),align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function({row:i}){return[t("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Add"),placement:"top"}},[t("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},nativeOn:{click:function(t){return e.handleAddProblem(i.id,i.problemId)}}})],1)]}}])})],1),t("el-pagination",{staticClass:"page",attrs:{layout:"prev, pager, next","page-size":e.limit,"current-page":e.page,total:e.total},on:{"current-change":e.getPublicProblem,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}})],1)},s=[],r=i("3228"),a=i("7aa9"),n={name:"add-problem-from-public",props:["contestID","trainingID"],data(){return{page:1,limit:10,total:0,loading:!1,problems:[],contest:{},keyword:""}},mounted(){this.contestID?r["a"].admin_getContest(this.contestID).then(e=>{this.contest=e.data.data,this.getPublicProblem(1)}).catch(()=>{}):this.trainingID&&this.getPublicProblem(1)},methods:{getPublicProblem(e){this.loading=!0;let t={keyword:this.keyword,currentPage:e,limit:this.limit,problemType:this.contest.type,cid:this.contest.id,tid:this.trainingID},i=null;this.contestID?i="admin_getContestProblemList":this.trainingID&&(i="admin_getTrainingProblemList"),r["a"][i](t).then(e=>{this.loading=!1,this.total=e.data.data.problemList.total,this.problems=e.data.data.problemList.records}).catch(()=>{this.loading=!1})},handleAddProblem(e,t){if(this.contestID)this.$prompt(this.$i18n.t("m.Enter_The_Problem_Display_ID_in_the_Contest"),"Tips").then(({value:t})=>{let i={pid:e,cid:this.contestID,displayId:t};r["a"].admin_addContestProblemFromPublic(i).then(e=>{this.$emit("on-change"),a["a"].success(this.$i18n.t("m.Add_Successfully")),this.getPublicProblem(this.page)},()=>{})},()=>{});else{let i={pid:e,tid:this.trainingID,displayId:t};r["a"].admin_addTrainingProblemFromPublic(i).then(e=>{this.$emit("on-change"),a["a"].success(this.$i18n.t("m.Add_Successfully")),this.getPublicProblem(this.page)},()=>{})}},filterByKeyword(){this.page=1,this.getPublicProblem(this.page)}}},l=n,c=(i("f142"),i("2877")),d=Object(c["a"])(l,o,s,!1,null,"2c306d64",null);t["a"]=d.exports},"3a1d":function(e,t,i){},"62c5":function(e,t,i){"use strict";i("3a1d")},"9b81":function(e,t,i){},a2f1:function(e,t,i){"use strict";i("1562")},f142:function(e,t,i){"use strict";i("9b81")},f375:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.query.contestId?e.$t("m.Contest_Problem_List"):e.$t("m.Problem_List")))]),t("div",{staticClass:"filter-row"},[t("span",[t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.goCreateProblem}},[e._v(e._s(e.$t("m.Create"))+" ")])],1),e.query.contestId?t("span",[t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.addProblemDialogVisible=!0}}},[e._v(e._s(e.$t("m.Add_From_Public_Problem"))+" ")])],1):e._e(),t("span",[t("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.AddRemoteOJProblemDialogVisible=!0}}},[e._v(e._s(e.$t("m.Add_Rmote_OJ_Problem"))+" ")])],1),t("span",[t("vxe-input",{attrs:{placeholder:e.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":e.filterByKeyword},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterByKeyword.apply(null,arguments)}},model:{value:e.query.keyword,callback:function(t){e.$set(e.query,"keyword",t)},expression:"query.keyword"}})],1),t("span",[t("el-select",{staticStyle:{width:"180px"},attrs:{size:"small"},on:{change:e.ProblemListChangeFilter},model:{value:e.query.oj,callback:function(t){e.$set(e.query,"oj",t)},expression:"query.oj"}},[t("el-option",{attrs:{label:e.$t("m.All_Problem"),value:"All"}}),t("el-option",{attrs:{label:e.$t("m.My_OJ"),value:"Mine"}}),e._l(e.REMOTE_OJ,(function(e,i){return t("el-option",{key:i,attrs:{label:e.name,value:e.key}})}))],2)],1),e.query.contestId?e._e():t("span",[t("el-select",{staticStyle:{width:"180px"},attrs:{size:"small"},on:{change:e.ProblemListChangeFilter},model:{value:e.query.problemListAuth,callback:function(t){e.$set(e.query,"problemListAuth",t)},expression:"query.problemListAuth"}},[t("el-option",{attrs:{label:e.$t("m.All_Problem"),value:0}}),t("el-option",{attrs:{label:e.$t("m.Public_Problem"),value:1}}),t("el-option",{attrs:{label:e.$t("m.Private_Problem"),value:2}}),t("el-option",{attrs:{label:e.$t("m.Contest_Problem"),value:3}})],1)],1)])]),t("vxe-table",{ref:"adminProblemList",attrs:{stripe:"","auto-resize":"",data:e.problemList,loading:e.loading,align:"center"}},[t("vxe-table-column",{attrs:{"min-width":"64",field:"id",title:"ID"}}),e.isContest?t("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Original_Display"),align:"left"},scopedSlots:e._u([{key:"default",fn:function({row:i}){return[e.query.contestId?t("p",[e._v(" "+e._s(e.$t("m.Display_ID"))+"："+e._s(i.problemId)+" ")]):e._e(),e.query.contestId?t("p",[e._v(e._s(e.$t("m.Title"))+"："+e._s(i.title))]):t("span",[e._v(e._s(i.problemId))])]}}])}):t("vxe-table-column",{attrs:{"min-width":"100",field:"problemId",title:e.$t("m.Display_ID")}}),e.isContest?t("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Contest_Display"),align:"left"},scopedSlots:e._u([{key:"default",fn:function({row:i}){return[e.contestProblemMap[i.id]?t("p",[e._v(" "+e._s(e.$t("m.Display_ID"))+"："+e._s(e.contestProblemMap[i.id]["displayId"])+" ")]):e._e(),e.contestProblemMap[i.id]?t("p",[e._v(" "+e._s(e.$t("m.Title"))+"："+e._s(e.contestProblemMap[i.id]["displayTitle"])+" ")]):e._e(),e.contestProblemMap[i.id]?t("span",[e._v(" "+e._s(e.$t("m.Balloon_Color"))+"："),t("el-color-picker",{staticStyle:{"vertical-align":"middle"},attrs:{"show-alpha":"",predefine:e.predefineColors,size:"small"},on:{change:function(t){return e.changeContestProblemColor(e.contestProblemMap[i.id].id,e.contestProblemMap[i.id].color)}},model:{value:e.contestProblemMap[i.id].color,callback:function(t){e.$set(e.contestProblemMap[i.id],"color",t)},expression:"contestProblemMap[row.id].color"}})],1):t("span",[e._v(e._s(i.title))])]}}])}):t("vxe-table-column",{attrs:{field:"title","min-width":"150",title:e.$t("m.Title"),"show-overflow":""}}),t("vxe-table-column",{attrs:{field:"author","min-width":"130",title:e.$t("m.Author"),"show-overflow":""}}),t("vxe-table-column",{attrs:{"min-width":"120",title:e.$t("m.Created_Time")},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[e._v(" "+e._s(e._f("localtime")(t.gmtCreate))+" ")]}}])}),t("vxe-table-column",{attrs:{"min-width":"96",field:"modifiedUser",title:e.$t("m.Modified_User"),"show-overflow":""}}),t("vxe-table-column",{attrs:{"min-width":"120",title:e.$t("m.Auth")},scopedSlots:e._u([{key:"default",fn:function({row:i}){return[t("el-select",{attrs:{size:"small",disabled:!e.isSuperAdmin&&!e.isProblemAdmin&&!e.query.contestId},on:{change:function(t){return e.changeProblemAuth(i)}},model:{value:i.auth,callback:function(t){e.$set(i,"auth",t)},expression:"row.auth"}},[t("el-option",{attrs:{label:e.$t("m.Public_Problem"),value:1,disabled:!e.isSuperAdmin&&!e.isProblemAdmin}}),t("el-option",{attrs:{label:e.$t("m.Private_Problem"),value:2}}),t("el-option",{attrs:{label:e.$t("m.Contest_Problem"),value:3,disabled:!e.query.contestId}})],1)]}}])}),t("vxe-table-column",{attrs:{title:"Option","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function({row:i}){return[e.isSuperAdmin||e.isProblemAdmin||i.author==e.userInfo.username?t("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Edit"),placement:"top"}},[t("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini",type:"primary"},nativeOn:{click:function(t){return e.goEdit(i.id)}}})],1):e._e(),e.isSuperAdmin||e.isProblemAdmin?t("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Download_Testcase"),placement:"top"}},[t("el-button",{attrs:{icon:"el-icon-download",size:"mini",type:"success"},nativeOn:{click:function(t){return e.downloadTestCase(i.id)}}})],1):e._e(),e.query.contestId?t("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Remove"),placement:"top"}},[t("el-button",{attrs:{icon:"el-icon-close",size:"mini",type:"warning"},nativeOn:{click:function(t){return e.removeProblem(i.id)}}})],1):e._e(),e.isSuperAdmin||e.isProblemAdmin?t("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Delete"),placement:"top"}},[t("el-button",{attrs:{icon:"el-icon-delete-solid",size:"mini",type:"danger"},nativeOn:{click:function(t){return e.deleteProblem(i.id)}}})],1):e._e()]}}])})],1),e.showPagination?t("div",{staticClass:"panel-options"},[t("el-pagination",{staticClass:"page",attrs:{layout:"prev, pager, next, sizes","page-size":e.query.pageSize,total:e.total,"current-page":e.query.currentPage,"page-sizes":[10,30,50,100]},on:{"current-change":e.currentChange,"update:pageSize":function(t){return e.$set(e.query,"pageSize",t)},"update:page-size":function(t){return e.$set(e.query,"pageSize",t)},"update:total":function(t){e.total=t},"update:currentPage":function(t){return e.$set(e.query,"currentPage",t)},"update:current-page":function(t){return e.$set(e.query,"currentPage",t)},"size-change":e.onPageSizeChange}})],1):e._e()],1),e.query.contestId?t("el-dialog",{attrs:{title:e.$t("m.Add_Contest_Problem"),width:"90%",visible:e.addProblemDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addProblemDialogVisible=t}}},[t("AddPublicProblem",{attrs:{contestID:e.query.contestId},on:{"on-change":e.getProblemList}})],1):e._e(),t("el-dialog",{attrs:{title:e.$t("m.Add_Rmote_OJ_Problem"),width:"350px",visible:e.AddRemoteOJProblemDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.AddRemoteOJProblemDialogVisible=t}}},[t("el-form",[t("el-form-item",{attrs:{label:e.$t("m.Remote_OJ")}},[t("el-select",{attrs:{size:"small"},model:{value:e.otherOJName,callback:function(t){e.otherOJName=t},expression:"otherOJName"}},e._l(e.REMOTE_OJ,(function(e,i){return t("el-option",{key:i,attrs:{label:e.name,value:e.key}})})),1)],1),t("el-form-item",{attrs:{label:e.$t("m.Problem_ID"),required:""}},[t("el-input",{attrs:{size:"small"},model:{value:e.otherOJProblemId,callback:function(t){e.otherOJProblemId=t},expression:"otherOJProblemId"}})],1),e.query.contestId?t("el-form-item",{attrs:{label:e.$t("m.Enter_The_Problem_Display_ID_in_the_Contest"),required:""}},[t("el-input",{attrs:{size:"small"},model:{value:e.displayId,callback:function(t){e.displayId=t},expression:"displayId"}})],1):e._e(),t("el-form-item",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus",loading:e.addRemoteOJproblemLoading},on:{click:e.addRemoteOJProblem}},[e._v(e._s(e.$t("m.Add"))+" ")])],1)],1)],1),t("SecurityConfirm",{attrs:{visible:e.securityConfirmVisible,"operation-description":e.securityOperationDescription,"operation-type":e.securityOperationType,"operation-data":e.securityOperationData},on:{confirm:e.handleSecurityConfirm,cancel:e.handleSecurityCancel}})],1)},s=[],r=(i("14d9"),i("e9f5"),i("f665"),i("3228")),a=i("90b9"),n=i("22a2"),l=i("7aa9"),c=i("9a36"),d=i("2f62"),m=i("028c"),u={name:"ProblemList",components:{AddPublicProblem:n["a"],SecurityConfirm:m["a"]},data(){return{total:0,query:{problemListAuth:0,oj:"All",pageSize:10,keyword:"",currentPage:1,contestId:null},problemList:[],contestProblemMap:{},loading:!1,routeName:"",currentProblemID:"",currentRow:{},addProblemDialogVisible:!1,AddRemoteOJProblemDialogVisible:!1,addRemoteOJproblemLoading:!1,otherOJName:"HDU",otherOJProblemId:"",REMOTE_OJ:{},displayId:"",showPagination:!1,predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585"],securityConfirmVisible:!1,securityOperationDescription:"",securityOperationType:"",securityOperationData:{}}},mounted(){this.init()},computed:{...Object(d["c"])(["userInfo","isSuperAdmin","isProblemAdmin"]),isContest(){return!("admin-problem-list"==this.routeName&&!this.query.contestId)}},methods:{init(){this.routeName=this.$route.name;let e=this.$route.query;this.query.currentPage=e.currentPage||1,this.query.pageSize=parseInt(e.pageSize)||10,this.query.keyword=e.keyword,this.query.problemListAuth=e.problemListAuth?parseInt(e.problemListAuth):0,this.query.oj=e.oj||"All",this.query.contestId=this.$route.params.contestId,this.contestProblemMap={},this.getProblemList(),this.REMOTE_OJ=Object.assign({},c["l"])},goEdit(e){"admin-problem-list"===this.routeName?this.$router.push({name:"admin-edit-problem",params:{problemId:e},query:{back:this.$route.fullPath}}):"admin-contest-problem-list"===this.routeName&&this.$router.push({name:"admin-edit-contest-problem",params:{problemId:e,contestId:this.query.contestId}})},goCreateProblem(){"admin-problem-list"===this.routeName?this.$router.push({name:"admin-create-problem",query:{back:this.$route.fullPath}}):"admin-contest-problem-list"===this.routeName&&this.$router.push({name:"admin-create-contest-problem",params:{contestId:this.query.contestId}})},pushRouter(){this.query.contestId?this.$router.push({name:"admin-contest-problem-list",query:this.query,params:{contestId:this.query.contestId}}):this.$router.push({name:"admin-problem-list",query:this.query})},currentChange(e){this.query.currentPage=e,this.pushRouter()},onPageSizeChange(e){this.query.pageSize=e,this.pushRouter()},getProblemList(){let e={limit:this.query.pageSize,currentPage:this.query.currentPage,keyword:this.query.keyword,cid:this.query.contestId,oj:this.query.oj};0!=this.problemListAuth&&(e["auth"]=this.query.problemListAuth),this.loading=!0,"admin-problem-list"===this.routeName?(this.showPagination=!1,r["a"].admin_getProblemList(e).then(e=>{this.loading=!1,this.total=e.data.data.total,this.problemList=e.data.data.records,this.showPagination=!0},e=>{this.loading=!1,this.showPagination=!0})):(this.showPagination=!1,r["a"].admin_getContestProblemList(e).then(e=>{this.loading=!1,this.total=e.data.data.problemList.total,this.problemList=e.data.data.problemList.records,this.contestProblemMap=e.data.data.contestProblemMap,this.showPagination=!0},e=>{this.loading=!1,this.showPagination=!0}))},changeProblemAuth(e){r["a"].admin_changeProblemAuth(e).then(e=>{l["a"].success(this.$i18n.t("m.Update_Successfully"))})},deleteProblem(e){const t=this.problemList.find(t=>t.id===e),i=t?t.title:"ID:"+e;this.showSecurityConfirm("delete_problem","删除题目: "+i,{problemId:e,problemTitle:i})},removeProblem(e){this.$confirm(this.$i18n.t("m.Remove_Contest_Problem_Tips"),"Tips",{type:"warning"}).then(()=>{r["a"].admin_deleteContestProblem(e,this.query.contestId).then(e=>{l["a"].success("success"),this.getProblemList()}).catch(()=>{})},()=>{})},updateProblem(e){let t=Object.assign({},e),i="";this.query.contestId?(t.contest_id=this.query.contestId,i="admin_editContestProblem"):i="admin_editProblem",r["a"][i](t).then(e=>{l["a"].success(this.$i18n.t("m.Update_Successfully")),this.getProblemList()}).catch(()=>{})},downloadTestCase(e){let t="/api/file/download-testcase?pid="+e;a["a"].downloadFile(t).then(()=>{this.$alert(this.$i18n.t("m.Download_Testcase_Success"),"Tips")})},ProblemListChangeFilter(){this.query.currentPage=1,this.pushRouter()},filterByKeyword(){this.query.currentPage=1,this.pushRouter()},addRemoteOJProblem(){if(!this.otherOJProblemId)return void l["a"].error(this.$i18n.t("m.Problem_ID_is_required"));if(!this.displayId&&this.query.contestId)return void l["a"].error(this.$i18n.t("m.The_Problem_Display_ID_in_the_Contest_is_required"));this.addRemoteOJproblemLoading=!0;let e="";e=this.query.contestId?"admin_addContestRemoteOJProblem":"admin_addRemoteOJProblem",r["a"][e](this.otherOJName,this.otherOJProblemId,this.query.contestId,this.displayId).then(e=>{this.addRemoteOJproblemLoading=!1,this.AddRemoteOJProblemDialogVisible=!1,l["a"].success(this.$i18n.t("m.Add_Successfully")),this.currentChange(1)},e=>{this.addRemoteOJproblemLoading=!1})},changeContestProblemColor(e,t){let i={id:e,color:t};r["a"].admin_setContestProblemInfo(i).then(e=>{l["a"].success(this.$i18n.t("m.Update_Balloon_Color_Successfully"))})},showSecurityConfirm(e,t,i){this.securityOperationType=e,this.securityOperationDescription=t,this.securityOperationData=i,this.securityConfirmVisible=!0},handleSecurityConfirm(e){switch(this.securityConfirmVisible=!1,e.operationType){case"delete_problem":this.performProblemDelete(e.operationData.problemId);break;default:console.warn("Unknown security operation type:",e.operationType)}},handleSecurityCancel(){this.securityConfirmVisible=!1,this.securityOperationType="",this.securityOperationDescription="",this.securityOperationData={}},performProblemDelete(e){let t="admin-problem-list"===this.routeName?"admin_deleteProblem":"admin_deleteContestProblem";r["a"][t](e,null).then(e=>{l["a"].success(this.$i18n.t("m.Delete_successfully")),this.getProblemList()}).catch(()=>{})}},watch:{$route(e,t){this.init()}}},p=u,h=(i("a2f1"),i("2877")),b=Object(h["a"])(p,o,s,!1,null,"d2f6f1d0",null);t["default"]=b.exports}}]);